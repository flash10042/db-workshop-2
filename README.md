# Шуліка О. КМ-83. Комп'ютерний практикум 2

## Інструкція до запуску

Запустити БД за допомогою команди 
```
docker-compose up
```

**У разі використання БД з іншими налаштуваннями, необхідно внести відповідні зміни до файлу flyway_data/flyway.conf і
config.py**

Необхідно помістити файл *flyway.conf* з теки *flyway_data* до теки *conf*, що знаходиться у кореневій теці застосунку Flyway,
а також необхідно помістити усі .sql файли з теки *flyway_data* до теки */sql* застосунку Flyway.

* **Міграція без даних**

Виконати команду `flyway migrate`

* **Перевірка роботи з даними**

Спочатку необхідно виконати команду `flyway -target=1 migrate` для створення таблиці з КП1

Тепер її можна заповнити данними за допомогою команди `python populate.py`, попередньо помістивши до 
теки *data* файл Odata2020File.csv (з нього будет взято перші 50 тисяч рядків).

Після заповнення таблиці даними можна виконати `flyway migrate` до останньої версії.

Щоб переконатись, що дані мігрували коректно скористаємось командою `python test.py`.

З SQL запитами, що виконує скрипт, можна ознайомитись, відкривши файл *test.py* у текстовому редакторі. 

Скрипт виведе до консолі наступні дані:

![Test.py](https://github.com/flash10042/db-workshop-2/blob/main/query_test.png)

Перший список відображає дані, взяті з початкової таблиці, другий - композицію даних з нових таблиць.

Можемо побачити, що дані співпадають і міграція пройшла успішно.

## Логічна ERD
![Логічна ERD](https://github.com/flash10042/db-workshop-2/blob/main/ERD/Logical.png)

## Фізична ERD
![Фізична ERD](https://github.com/flash10042/db-workshop-2/blob/main/ERD/Physical.png)

## Опис атрибутів ERD

**Сутність Person.**

Відображає людину, що сдає ЗНО.

Поля:

* outID - унікальний ідентифітор учасника

* birth - рік народження

* sex - стать

* studyStatus - статус учасника

* registrationLocID - id місця реєстрації учасника

* classProfile - профіль навчання учасника

* classLang - мова навчання учасника 

* studyInstID - id закладу освіти

**Сутність Location.**

Відображає місцеположення установи / місце реєстрації

Поля:

* regionID - унікальний ідентифікатор локації

* regionName - назва регіону

* areaName - назва району / міста

* terrName - назва населеного пункту

* terrType - тип населеного пункту

**Сутність Institution.**

Відображає заклад освіти

Поля:

* instID - унікальний ідентифікатор закладу

* instName - назва закладу освіти

* instType - тип закладу освіти

* instLocID - id місця розташування закладу

* instParent - орган, якому підпорядковується заклад

**Сутність Exam.**

Відображає екзамен типу ЗНО

Поля:

* examID - ідентифікатор екзамену

* outID - id учасника ЗНО

* subjectName - назва предмету, з якого сдається ЗНО

* examYear - рік сдачі ЗНО

* testLang - мова складання ЗНО

* testStatus - результат складання тесту

* dpaLevel - рівень складності завдань ДПА

* ball100 - оцінка за шкалою 100-200

* ball12 - оцінка за шкалою ДПА

* ball - тестовий бал

* adaptScale - адаптивний поріг

* testInstID - id пункту сдачі ЗНО
